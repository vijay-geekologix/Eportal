"use client";

import React from "react";
import { usePathname } from "next/navigation";
import Link from "next/link";
import Image from "next/image";
import SidebarItem from "@/components/Sidebar/SidebarItem";
import ClickOutside from "@/components/ClickOutside";
import useLocalStorage from "@/hooks/useLocalStorage";
import { useUserDetailsContext } from "@/context/UserDetailsContext";

interface SidebarProps {
  sidebarOpen: boolean;
  setSidebarOpen: (arg: boolean) => void;
}
const menuGroups = [
  {
    name: "DASHBOARD",
    menuItems: [
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M4 4H20C20.5523 4 21 4.44772 21 5V19C21 19.5523 20.5523 20 20 20H4C3.44772 20 3 19.5523 3 19V5C3 4.44772 3.44772 4 4 4ZM4 6V18H20V6H4ZM6 8H10V10H6V8ZM6 12H10V14H6V12ZM6 16H10V18H6V16ZM14 8H18V10H14V8ZM14 12H18V14H14V12ZM14 16H18V18H14V16Z"
              fill="currentColor"
            />
          </svg>

        ),
        label: "Dashboard",
        // label: "Attendence",
        route: "/dashboard",
        // route: "#",
        // children: [
        //   { label: "Dashboard", route: "/dashboard" },
        // ],
      },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M16 9C16 10.6569 14.6569 12 13 12C11.3431 12 10 10.6569 10 9C10 7.34315 11.3431 6 13 6C14.6569 6 16 7.34315 16 9ZM4 11C4 12.1046 4.89543 13 6 13C7.10457 13 8 12.1046 8 11C8 9.89543 7.10457 9 6 9C4.89543 9 4 9.89543 4 11ZM20 11C20 12.1046 19.1046 13 18 13C16.8954 13 16 12.1046 16 11C16 9.89543 16.8954 9 18 9C19.1046 9 20 9.89543 20 11ZM13 13C14.933 13 18 14.1188 18 16V17C18 17.5523 17.5523 18 17 18H9C8.44772 18 8 17.5523 8 17V16C8 14.1188 11.067 13 13 13ZM6 15C4.89543 15 3 15.8954 3 17C3 17.5523 3.44772 18 4 18H8V16C8 15.4487 8.12592 15.0227 8.37791 14.6671C7.73573 14.3291 7.01048 14.1071 6 14.1071V15ZM20 17C20 15.8954 18.1046 15 17 15V14.1071C15.9895 14.1071 15.2643 14.3291 14.6221 14.6671C14.8741 15.0227 15 15.4487 15 16V18H20C20.5523 18 21 17.5523 21 17Z"
              fill="currentColor"
            />
          </svg>

        ),
        label: "HRIS",
        route: "#",
        children: [
          { label: "Emloyess-Master", route: "/hris/employee-master" },
          { label: "Attrition", route: "/hris/attrition" },
        ],
      },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            width="25"
            height="25"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M3 4C2.44772 4 2 4.44772 2 5V19C2 19.5523 2.44772 20 3 20H21C21.5523 20 22 19.5523 22 19V9C22 8.44772 21.5523 8 21 8H12.4142L10.7071 6.29289C10.3166 5.90237 9.68342 5.90237 9.29289 6.29289L7.58579 8H3ZM4 18V10H7C7.26522 10 7.51957 9.89464 7.70711 9.70711L9.41421 8H20V18H4ZM12 14C11.4477 14 11 14.4477 11 15C11 15.5523 11.4477 16 12 16H16C16.5523 16 17 15.5523 17 15C17 14.4477 16.5523 14 16 14H12Z"
              fill="currentColor"
            />
          </svg>

        ),
        label: "Projects",
        route: "/projectTracker/projectList",
        // children: [
        //   { label: "Add Project", route: "/projectTracker/projectForm" },
        //   { label: "Project List", route: "/projectTracker/projectList" },
        // ],
      },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M12 2C11.4477 2 11 2.44772 11 3V4H7C5.34315 4 4 5.34315 4 7V19C4 20.6569 5.34315 22 7 22H17C18.6569 22 20 20.6569 20 19V7C20 5.34315 18.6569 4 17 4H13V3C13 2.44772 12.5523 2 12 2ZM17 6H7C6.44772 6 6 6.44772 6 7V19C6 19.5523 6.44772 20 7 20H17C17.5523 20 18 19.5523 18 19V7C18 6.44772 17.5523 6 17 6ZM9 10C9 9.44772 9.44772 9 10 9H14C14.5523 9 15 9.44772 15 10C15 10.5523 14.5523 11 14 11H10C9.44772 11 9 10.5523 9 10ZM10 13C9.44772 13 9 13.4477 9 14C9 14.5523 9.44772 15 10 15H12C12.5523 15 13 14.5523 13 14C13 13.4477 12.5523 13 12 13H10Z"
              fill="currentColor"
            />
          </svg>

        ),
        label: "Attendence",
        route: "#",
        children: [
          { label: "My Attendence", route: "/attendence/myattendence" },
          { label: "View Attendence", route: "/attendence/viewattendence" },
        ],
      },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M20.7071 4.29289C21.0976 4.68342 21.0976 5.31658 20.7071 5.70711L19.4142 7H20C20.5523 7 21 7.44772 21 8V16C21 16.5523 20.5523 17 20 17H4C3.44772 17 3 16.5523 3 16V8C3 7.44772 3.44772 7 4 7H4.58579L3.29289 5.70711C2.90237 5.31658 2.90237 4.68342 3.29289 4.29289C3.68342 3.90237 4.31658 3.90237 4.70711 4.29289L5.70711 5.29289C6.09763 5.68342 6.09763 6.31658 5.70711 6.70711L4.70711 5.70711C4.31658 5.31658 3.68342 5.31658 3.29289 5.70711C2.90237 6.09763 2.90237 6.73079 3.29289 7.12132L5.70711 9.53553C6.09763 9.92606 6.73079 9.92606 7.12132 9.53553C7.51184 9.14501 7.51184 8.51184 7.12132 8.12132L9.53553 6.70711C9.92606 6.31658 9.92606 5.68342 9.53553 5.29289C9.14501 4.90237 8.51184 4.90237 8.12132 5.29289L6.70711 6.70711C6.31658 7.09763 6.31658 7.73079 6.70711 8.12132L7.70711 9.12132C8.09763 9.51184 8.73079 9.51184 9.12132 9.12132L10.7071 7.53553C11.0976 7.14501 11.0976 6.51184 10.7071 6.12132L10.7071 5.70711L11.7071 4.70711C12.0976 4.31658 12.0976 3.68342 11.7071 3.29289L9.12132 1.70711C8.73079 1.31658 8.09763 1.31658 7.70711 1.70711C7.31658 2.09763 7.31658 2.73079 7.70711 3.12132L8.70711 4.12132C9.09763 4.51184 9.73079 4.51184 10.1213 4.12132L11.7071 2.53553C12.0976 2.14501 12.0976 1.51184 11.7071 1.12132C11.3166 0.73079 10.6834 0.73079 10.2929 1.12132L9.29289 2.12132C8.90237 2.51184 8.90237 3.14501 9.29289 3.53553C9.68342 3.92606 10.3166 3.92606 10.7071 3.53553L10.7071 4.29289C10.0976 4.68342 9.46342 4.68342 9.12132 5.12132L8.12132 6.12132C7.73079 6.51184 7.09763 6.51184 6.70711 7.12132C6.31658 7.51184 6.31658 8.14501 6.70711 8.53553L7.70711 9.53553L9.12132 10.7071L9.29289 11.7071C9.68342 12.0976 10.3166 12.0976 10.7071 11.7071C11.0976 11.3166 10.7071 11.7071 10.1213 10.7071L7.53553 9.12132C7.14501 9.51184 6.51184 9.51184 6.12132 9.12132L5.29289 8.29289C4.90237 7.90237 4.31658 7.90237 3.70711 7.29289C3.31658 6.90237 3.31658 6.31658 3.70711 5.70711C3.90237 5.31658 4.09763 5.31658 4.70711 5.29289L7.70711 4.29289L7.70711 3.12132L7.12132 3.12132L6.12132 3.70711L7.70711 4.70711L7.70711 4.29289C5.92802 5.05926 5 6.29289 5.29289 5.29289"
              fill="currentColor"
            />
          </svg>

        ),
        label: "Leave",
        route: "/leave",
      },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C15.31 6 18 8.69 18 12C18 15.31 15.31 18 12 18ZM12 7C11.45 7 11 7.45 11 8V11C11 11.55 11.45 12 12 12C12.55 12 13 11.55 13 11V8C13 7.45 12.55 7 12 7ZM12 13C11.45 13 11 13.45 11 14C11 14.55 11.45 15 12 15C12.55 15 13 14.55 13 14C13 13.45 12.55 13 12 13ZM15 9.5L14.29 8.79C14.11 8.61 13.86 8.56 13.63 8.62L13 9.03V12.68L13.63 13.08C13.86 13.14 14.11 13.09 14.29 12.91L15 12.2C15.21 11.99 15.21 11.64 15 11.43L15 9.5Z"
              fill="currentColor"
            />
          </svg>

        ),
        label: "Pending Approval",
        route: "/pending-approval",
      },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         d="M17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14Z"
      //         fill=""
      //       />
      //       <path
      //         d="M17 18C17.5523 18 18 17.5523 18 17C18 16.4477 17.5523 16 17 16C16.4477 16 16 16.4477 16 17C16 17.5523 16.4477 18 17 18Z"
      //         fill=""
      //       />
      //       <path
      //         d="M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z"
      //         fill=""
      //       />
      //       <path
      //         d="M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z"
      //         fill=""
      //       />
      //       <path
      //         d="M7 14C7.55229 14 8 13.5523 8 13C8 12.4477 7.55229 12 7 12C6.44772 12 6 12.4477 6 13C6 13.5523 6.44772 14 7 14Z"
      //         fill=""
      //       />
      //       <path
      //         d="M7 18C7.55229 18 8 17.5523 8 17C8 16.4477 7.55229 16 7 16C6.44772 16 6 16.4477 6 17C6 17.5523 6.44772 18 7 18Z"
      //         fill=""
      //       />
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M7 1.75C7.41421 1.75 7.75 2.08579 7.75 2.5V3.26272C8.412 3.24999 9.14133 3.24999 9.94346 3.25H14.0564C14.8586 3.24999 15.588 3.24999 16.25 3.26272V2.5C16.25 2.08579 16.5858 1.75 17 1.75C17.4142 1.75 17.75 2.08579 17.75 2.5V3.32709C18.0099 3.34691 18.2561 3.37182 18.489 3.40313C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33855 22.5969 7.51098C22.75 8.65018 22.75 10.1058 22.75 11.9435V14.0564C22.75 15.8941 22.75 17.3498 22.5969 18.489C22.4392 19.6614 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6614 22.4392 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0565 22.75H9.94359C8.10585 22.75 6.65018 22.75 5.51098 22.5969C4.33856 22.4392 3.38961 22.1071 2.64124 21.3588C1.89288 20.6104 1.56076 19.6614 1.40314 18.489C1.24997 17.3498 1.24998 15.8942 1.25 14.0564V11.9436C1.24998 10.1058 1.24997 8.65019 1.40314 7.51098C1.56076 6.33855 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40313C5.7439 3.37182 5.99006 3.34691 6.25 3.32709V2.5C6.25 2.08579 6.58579 1.75 7 1.75ZM5.71085 4.88976C4.70476 5.02502 4.12511 5.27869 3.7019 5.7019C3.27869 6.12511 3.02502 6.70476 2.88976 7.71085C2.86685 7.88123 2.8477 8.06061 2.83168 8.25H21.1683C21.1523 8.06061 21.1331 7.88124 21.1102 7.71085C20.975 6.70476 20.7213 6.12511 20.2981 5.7019C19.8749 5.27869 19.2952 5.02502 18.2892 4.88976C17.2615 4.75159 15.9068 4.75 14 4.75H10C8.09318 4.75 6.73851 4.75159 5.71085 4.88976ZM2.75 12C2.75 11.146 2.75032 10.4027 2.76309 9.75H21.2369C21.2497 10.4027 21.25 11.146 21.25 12V14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25H10C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14V12Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Calendar",
      //   route: "/calendar",
      // },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M11.9999 1.25C9.37654 1.25 7.24989 3.37665 7.24989 6C7.24989 8.62335 9.37654 10.75 11.9999 10.75C14.6232 10.75 16.7499 8.62335 16.7499 6C16.7499 3.37665 14.6232 1.25 11.9999 1.25ZM8.74989 6C8.74989 4.20507 10.205 2.75 11.9999 2.75C13.7948 2.75 15.2499 4.20507 15.2499 6C15.2499 7.79493 13.7948 9.25 11.9999 9.25C10.205 9.25 8.74989 7.79493 8.74989 6Z"
      //         fill=""
      //       />
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M11.9999 12.25C9.68634 12.25 7.55481 12.7759 5.97534 13.6643C4.41937 14.5396 3.24989 15.8661 3.24989 17.5L3.24982 17.602C3.24869 18.7638 3.24728 20.222 4.5263 21.2635C5.15577 21.7761 6.03637 22.1406 7.2261 22.3815C8.41915 22.6229 9.97412 22.75 11.9999 22.75C14.0257 22.75 15.5806 22.6229 16.7737 22.3815C17.9634 22.1406 18.844 21.7761 19.4735 21.2635C20.7525 20.222 20.7511 18.7638 20.75 17.602L20.7499 17.5C20.7499 15.8661 19.5804 14.5396 18.0244 13.6643C16.445 12.7759 14.3134 12.25 11.9999 12.25ZM4.74989 17.5C4.74989 16.6487 5.37127 15.7251 6.71073 14.9717C8.02669 14.2315 9.89516 13.75 11.9999 13.75C14.1046 13.75 15.9731 14.2315 17.289 14.9717C18.6285 15.7251 19.2499 16.6487 19.2499 17.5C19.2499 18.8078 19.2096 19.544 18.5263 20.1004C18.1558 20.4022 17.5364 20.6967 16.4761 20.9113C15.4192 21.1252 13.9741 21.25 11.9999 21.25C10.0257 21.25 8.58063 21.1252 7.52368 20.9113C6.46341 20.6967 5.84401 20.4022 5.47348 20.1004C4.79021 19.544 4.74989 18.8078 4.74989 17.5Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Profile",
      //   route: "/profile",
      // },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M2.25 7C2.25 6.58579 2.58579 6.25 3 6.25H13C13.4142 6.25 13.75 6.58579 13.75 7C13.75 7.41421 13.4142 7.75 13 7.75H3C2.58579 7.75 2.25 7.41421 2.25 7ZM16.5 6.25C16.7951 6.25 17.0628 6.42309 17.1839 6.69223L21.6839 16.6922C21.8539 17.07 21.6855 17.514 21.3078 17.6839C20.93 17.8539 20.486 17.6855 20.3161 17.3078L18.8787 14.1136H14.1213L12.6839 17.3078C12.514 17.6855 12.07 17.8539 11.6922 17.6839C11.3145 17.514 11.1461 17.07 11.3161 16.6922L15.8161 6.69223C15.9372 6.42309 16.2049 6.25 16.5 6.25ZM14.7963 12.6136H18.2037L16.5 8.82764L14.7963 12.6136ZM2.25 12C2.25 11.5858 2.58579 11.25 3 11.25H10C10.4142 11.25 10.75 11.5858 10.75 12C10.75 12.4142 10.4142 12.75 10 12.75H3C2.58579 12.75 2.25 12.4142 2.25 12ZM2.25 17C2.25 16.5858 2.58579 16.25 3 16.25H8C8.41421 16.25 8.75 16.5858 8.75 17C8.75 17.4142 8.41421 17.75 8 17.75H3C2.58579 17.75 2.25 17.4142 2.25 17Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Forms",
      //   route: "#",
      //   children: [
      //     { label: "Form Elements", route: "/forms/form-elements" },
      //     { label: "Form Layout", route: "/forms/form-layout" },
      //   ],
      // },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M18.2892 4.88976C17.2615 4.75159 15.9068 4.75 14 4.75L10 4.75C8.09318 4.75 6.73851 4.75159 5.71085 4.88976C4.70476 5.02503 4.12511 5.27869 3.7019 5.7019C3.27869 6.12511 3.02502 6.70476 2.88976 7.71085C2.75159 8.73851 2.75 10.0932 2.75 12C2.75 13.9068 2.75159 15.2615 2.88976 16.2892C3.02502 17.2952 3.27869 17.8749 3.7019 18.2981C4.12511 18.7213 4.70476 18.975 5.71085 19.1102C6.73851 19.2484 8.09318 19.25 10 19.25H14C15.9068 19.25 17.2615 19.2484 18.2892 19.1102C19.2952 18.975 19.8749 18.7213 20.2981 18.2981C20.7213 17.8749 20.975 17.2952 21.1102 16.2892C21.2484 15.2615 21.25 13.9068 21.25 12C21.25 10.0932 21.2484 8.73851 21.1102 7.71085C20.975 6.70476 20.7213 6.12511 20.2981 5.7019C19.8749 5.27869 19.2952 5.02502 18.2892 4.88976ZM18.489 3.40314C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33856 22.5969 7.51098C22.75 8.65019 22.75 10.1058 22.75 11.9436V12.0564C22.75 13.8942 22.75 15.3498 22.5969 16.489C22.4392 17.6614 22.1071 18.6104 21.3588 19.3588C20.6104 20.1071 19.6614 20.4392 18.489 20.5969C17.3498 20.75 15.8942 20.75 14.0564 20.75H9.94359C8.10583 20.75 6.65019 20.75 5.51098 20.5969C4.33856 20.4392 3.38961 20.1071 2.64124 19.3588C1.89288 18.6104 1.56076 17.6614 1.40314 16.489C1.24997 15.3498 1.24998 13.8942 1.25 12.0564V11.9436C1.24998 10.1058 1.24997 8.65019 1.40314 7.51098C1.56076 6.33856 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40314C6.65019 3.24997 8.10583 3.24998 9.94359 3.25L14.0564 3.25C15.8942 3.24998 17.3498 3.24997 18.489 3.40314ZM8.25 17C8.25 16.5858 8.58579 16.25 9 16.25H15C15.4142 16.25 15.75 16.5858 15.75 17C15.75 17.4142 15.4142 17.75 15 17.75H9C8.58579 17.75 8.25 17.4142 8.25 17Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Tables",
      //   route: "#",
      //   children: [
      //     { label: "Tables", route: "/tables" },
      //   ],
      // },
      {
        icon: (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className="fill-current"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M19.43 12.98c.04-.31.07-.63.07-.98s-.03-.67-.09-1L21 9.24a1.5 1.5 0 0 0-.38-1.66l-1.91-1.91a1.5 1.5 0 0 0-1.66-.38l-1.74.72c-.52-.4-1.08-.73-1.68-.98l-.26-1.92A1.5 1.5 0 0 0 11.5 2h-3a1.5 1.5 0 0 0-1.5 1.35l-.26 1.92c-.6.25-1.16.58-1.68.98L3.32 7.2a1.5 1.5 0 0 0-.38 1.66l.72 1.74c-.06.33-.09.66-.09 1s.03.67.09 1L2.94 14.7a1.5 1.5 0 0 0 .38 1.66l1.91 1.91a1.5 1.5 0 0 0 1.66.38l1.74-.72c.52.4 1.08.73 1.68.98l.26 1.92A1.5 1.5 0 0 0 8.5 22h3a1.5 1.5 0 0 0 1.5-1.35l.26-1.92c.6-.25 1.16-.58 1.68-.98l1.74.72c.24.1.5.16.76.16.41 0 .8-.16 1.09-.45l1.91-1.91a1.5 1.5 0 0 0 .38-1.66l-.72-1.74ZM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"
              fill="currentColor"
            />
          </svg>

        ),
        label: "Settings",
        route: "#",
        children: [
          { label: "Opening -Balance", route: "/Settings/openingbalance" },
        ],
      },
    ],
  },
  // {
  //   name: "OTHERS",
  //   menuItems: [
  //     // {
  //     //   icon: (
  //     //     <svg
  //     //       className="fill-current"
  //     //       width="24"
  //     //       height="24"
  //     //       viewBox="0 0 24 24"
  //     //       fill="none"
  //     //       xmlns="http://www.w3.org/2000/svg"
  //     //     >
  //     //       <path
  //     //         fillRule="evenodd"
  //     //         clipRule="evenodd"
  //     //         d="M14.2544 1.36453C13.1584 1.05859 12.132 1.38932 11.4026 2.05955C10.6845 2.71939 10.25 3.70552 10.25 4.76063V11.4551C10.25 12.7226 11.2775 13.75 12.5449 13.75H19.2394C20.2945 13.75 21.2806 13.3156 21.9405 12.5974C22.6107 11.868 22.9414 10.8416 22.6355 9.74563C21.5034 5.69003 18.31 2.49663 14.2544 1.36453ZM11.75 4.76063C11.75 4.10931 12.0201 3.52918 12.4175 3.16407C12.8035 2.80935 13.3035 2.65643 13.8511 2.8093C17.4013 3.80031 20.1997 6.59875 21.1907 10.1489C21.3436 10.6965 21.1907 11.1965 20.8359 11.5825C20.4708 11.9799 19.8907 12.25 19.2394 12.25H12.5449C12.1059 12.25 11.75 11.8941 11.75 11.4551V4.76063Z"
  //     //         fill=""
  //     //       />
  //     //       <path
  //     //         d="M8.67232 4.71555C9.0675 4.59143 9.28724 4.17045 9.16312 3.77527C9.039 3.38009 8.61803 3.16036 8.22285 3.28447C4.18231 4.55353 1.25 8.32793 1.25 12.7892C1.25 18.2904 5.70962 22.75 11.2108 22.75C15.6721 22.75 19.4465 19.8177 20.7155 15.7772C20.8397 15.382 20.6199 14.961 20.2247 14.8369C19.8296 14.7128 19.4086 14.9325 19.2845 15.3277C18.2061 18.761 14.9982 21.25 11.2108 21.25C6.53805 21.25 2.75 17.462 2.75 12.7892C2.75 9.00185 5.23899 5.79389 8.67232 4.71555Z"
  //     //         fill=""
  //     //       />
  //     //     </svg>
  //     //   ),
  //     //   label: "Charts",
  //     //   route: "#",
  //     //   children: [
  //     //     { label: "Basic Chart", route: "/charts/basic-chart" },
  //     //   ],
  //     // },
  //     // {
  //     //   icon: (
  //     //     <svg
  //     //       className="fill-current"
  //     //       width="24"
  //     //       height="24"
  //     //       viewBox="0 0 24 24"
  //     //       fill="none"
  //     //       xmlns="http://www.w3.org/2000/svg"
  //     //     >
  //     //       <path
  //     //         fillRule="evenodd"
  //     //         clipRule="evenodd"
  //     //         d="M6.5 1.75C3.87665 1.75 1.75 3.87665 1.75 6.5C1.75 9.12335 3.87665 11.25 6.5 11.25C9.12335 11.25 11.25 9.12335 11.25 6.5C11.25 3.87665 9.12335 1.75 6.5 1.75ZM3.25 6.5C3.25 4.70507 4.70507 3.25 6.5 3.25C8.29493 3.25 9.75 4.70507 9.75 6.5C9.75 8.29493 8.29493 9.75 6.5 9.75C4.70507 9.75 3.25 8.29493 3.25 6.5Z"
  //     //         fill=""
  //     //       />
  //     //       <path
  //     //         fillRule="evenodd"
  //     //         clipRule="evenodd"
  //     //         d="M17.5 12.75C14.8766 12.75 12.75 14.8766 12.75 17.5C12.75 20.1234 14.8766 22.25 17.5 22.25C20.1234 22.25 22.25 20.1234 22.25 17.5C22.25 14.8766 20.1234 12.75 17.5 12.75ZM14.25 17.5C14.25 15.7051 15.7051 14.25 17.5 14.25C19.2949 14.25 20.75 15.7051 20.75 17.5C20.75 19.2949 19.2949 20.75 17.5 20.75C15.7051 20.75 14.25 19.2949 14.25 17.5Z"
  //     //         fill=""
  //     //       />
  //     //       <path
  //     //         fillRule="evenodd"
  //     //         clipRule="evenodd"
  //     //         d="M12.75 6.5C12.75 3.87665 14.8766 1.75 17.5 1.75C20.1234 1.75 22.25 3.87665 22.25 6.5C22.25 9.12335 20.1234 11.25 17.5 11.25C14.8766 11.25 12.75 9.12335 12.75 6.5ZM17.5 3.25C15.7051 3.25 14.25 4.70507 14.25 6.5C14.25 8.29493 15.7051 9.75 17.5 9.75C19.2949 9.75 20.75 8.29493 20.75 6.5C20.75 4.70507 19.2949 3.25 17.5 3.25Z"
  //     //         fill=""
  //     //       />
  //     //       <path
  //     //         fillRule="evenodd"
  //     //         clipRule="evenodd"
  //     //         d="M6.5 12.75C3.87665 12.75 1.75 14.8766 1.75 17.5C1.75 20.1234 3.87665 22.25 6.5 22.25C9.12335 22.25 11.25 20.1234 11.25 17.5C11.25 14.8766 9.12335 12.75 6.5 12.75ZM3.25 17.5C3.25 15.7051 4.70507 14.25 6.5 14.25C8.29493 14.25 9.75 15.7051 9.75 17.5C9.75 19.2949 8.29493 20.75 6.5 20.75C4.70507 20.75 3.25 19.2949 3.25 17.5Z"
  //     //         fill=""
  //     //       />
  //     //     </svg>
  //     //   ),
  //     //   label: "UI Elements",
  //     //   route: "#",
  //     //   children: [
  //     //     { label: "Alerts", route: "/ui-elements/alerts" },
  //     //     { label: "Buttons", route: "/ui-elements/buttons" },
  //     //   ],
  //     // },
  //     // {
  //     //   icon: (
  //     //     <svg
  //     //       className="fill-current"
  //     //       width="24"
  //     //       height="24"
  //     //       viewBox="0 0 24 24"
  //     //       fill="none"
  //     //       xmlns="http://www.w3.org/2000/svg"
  //     //     >
  //     //       <path
  //     //         d="M14.9453 1.25C13.5778 1.24998 12.4754 1.24996 11.6085 1.36652C10.7084 1.48754 9.95048 1.74643 9.34857 2.34835C8.82363 2.87328 8.55839 3.51836 8.41916 4.27635C8.28387 5.01291 8.25799 5.9143 8.25196 6.99583C8.24966 7.41003 8.58357 7.74768 8.99778 7.74999C9.41199 7.7523 9.74964 7.41838 9.75194 7.00418C9.75803 5.91068 9.78643 5.1356 9.89448 4.54735C9.99859 3.98054 10.1658 3.65246 10.4092 3.40901C10.686 3.13225 11.0746 2.9518 11.8083 2.85315C12.5637 2.75159 13.5648 2.75 15.0002 2.75H16.0002C17.4356 2.75 18.4367 2.75159 19.1921 2.85315C19.9259 2.9518 20.3144 3.13225 20.5912 3.40901C20.868 3.68577 21.0484 4.07435 21.1471 4.80812C21.2486 5.56347 21.2502 6.56459 21.2502 8V16C21.2502 17.4354 21.2486 18.4365 21.1471 19.1919C21.0484 19.9257 20.868 20.3142 20.5912 20.591C20.3144 20.8678 19.9259 21.0482 19.1921 21.1469C18.4367 21.2484 17.4356 21.25 16.0002 21.25H15.0002C13.5648 21.25 12.5637 21.2484 11.8083 21.1469C11.0746 21.0482 10.686 20.8678 10.4092 20.591C10.1658 20.3475 9.99859 20.0195 9.89448 19.4527C9.78643 18.8644 9.75803 18.0893 9.75194 16.9958C9.74964 16.5816 9.41199 16.2477 8.99778 16.25C8.58357 16.2523 8.24966 16.59 8.25196 17.0042C8.25799 18.0857 8.28387 18.9871 8.41916 19.7236C8.55839 20.4816 8.82363 21.1267 9.34857 21.6517C9.95048 22.2536 10.7084 22.5125 11.6085 22.6335C12.4754 22.75 13.5778 22.75 14.9453 22.75H16.0551C17.4227 22.75 18.525 22.75 19.392 22.6335C20.2921 22.5125 21.0499 22.2536 21.6519 21.6517C22.2538 21.0497 22.5127 20.2919 22.6337 19.3918C22.7503 18.5248 22.7502 17.4225 22.7502 16.0549V7.94513C22.7502 6.57754 22.7503 5.47522 22.6337 4.60825C22.5127 3.70814 22.2538 2.95027 21.6519 2.34835C21.0499 1.74643 20.2921 1.48754 19.392 1.36652C18.525 1.24996 17.4227 1.24998 16.0551 1.25H14.9453Z"
  //     //         fill=""
  //     //       />
  //     //       <path
  //     //         d="M2.00098 11.249C1.58676 11.249 1.25098 11.5848 1.25098 11.999C1.25098 12.4132 1.58676 12.749 2.00098 12.749L13.9735 12.749L12.0129 14.4296C11.6984 14.6991 11.662 15.1726 11.9315 15.4871C12.2011 15.8016 12.6746 15.838 12.9891 15.5685L16.4891 12.5685C16.6553 12.426 16.751 12.218 16.751 11.999C16.751 11.7801 16.6553 11.5721 16.4891 11.4296L12.9891 8.42958C12.6746 8.16002 12.2011 8.19644 11.9315 8.51093C11.662 8.82543 11.6984 9.2989 12.0129 9.56847L13.9735 11.249L2.00098 11.249Z"
  //     //         fill=""
  //     //       />
  //     //     </svg>
  //     //   ),
  //     //   label: "Authentication",
  //     //   route: "#",
  //     //   children: [
  //     //     { label: "Sign In", route: "/auth/signin" },
  //     //   ],
  //     // },
  //     {
  //       icon: (
  //         <svg
  //           className="fill-current"
  //           width="24"
  //           height="24"
  //           viewBox="0 0 24 24"
  //           fill="none"
  //           xmlns="http://www.w3.org/2000/svg"
  //         >
  //           <path
  //             d="M3 4C3 2.89543 3.89543 2 5 2H15C16.1046 2 17 2.89543 17 4V8H13C11.8954 8 11 8.89543 11 10V14H7C5.89543 14 5 13.1046 5 12V4H3Z"
  //             fill=""
  //           />
  //           <path
  //             d="M13 10H17C18.1046 10 19 10.8954 19 12V16H13V10Z"
  //             fill=""
  //           />
  //           <path
  //             d="M16.5858 17.4142L12 22L14 22H20C20.5523 22 21 21.5523 21 21V15L20.7071 15.2929L16.5858 17.4142Z"
  //             fill=""
  //           />
  //           <path
  //             d="M8 16H3C2.44772 16 2 16.4477 2 17V21C2 21.5523 2.44772 22 3 22H8C8.55228 22 9 21.5523 9 21V17C9 16.4477 8.55228 16 8 16Z"
  //             fill=""
  //           />
  //         </svg>
  //       ),
  //       label: "Leave",
  //       route: "/leave",
  //     }
  //   ],
  // },
];

const Sidebar = ({ sidebarOpen, setSidebarOpen }: SidebarProps) => {
  const pathname = usePathname();
  const { userDetails, setUserDetails }: any = useUserDetailsContext();
  const [pageName, setPageName] = useLocalStorage("selectedMenu", "dashboard");

  // role base redirect user

  // const router = useRouter();
  // const pathname = usePathname();
  // const { userDetails, setUserDetails }:any = useUserDetailsContext();
  // const [pageName, setPageName] = useLocalStorage("selectedMenu", "dashboard");
  // const role = userDetails?.user_role;

  // const roleBasedAccess:any = {
  //   employee: ["/dashboard", "/attendence/myattendence", "/leave"],
  //   admin: ["*"],
  //   manager: ["*"],
  // };

  // useEffect(() => {
  //   const allowedPaths = roleBasedAccess[role] || [];
  //   if (!allowedPaths.includes("*") && !allowedPaths.includes(pathname)) {
  //     router.replace("/dashboard");
  //   }
  // }, [role, pathname]);

  return (
    <ClickOutside onClick={() => setSidebarOpen(false)}>
      <aside
        className={`absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden border-r border-stroke bg-white dark:border-stroke-dark dark:bg-gray-dark lg:static lg:translate-x-0 ${sidebarOpen
          ? "translate-x-0 duration-300 ease-linear"
          : "-translate-x-full"
          }`}
      >
        {/* SIDEBAR HEADER */}
        <div className="flex items-center justify-between gap-2 border-b border-gray-200  bg-white px-6 py-6 dark:border-gray-700 dark:bg-gray-dark">
          <Link href="/dashboard">
            <Image
              width={176}
              height={10}
              src="/gif/3o7TKUM3IgJBX2as9O.webp"
              alt="Logo"
              priority
              className="dark:hidden"
              style={{ width: "auto", height: "50px" }}
            />
            <Image
              width={176}
              height={32}
              src="/images/logo/logo.svg"
              alt="Logo"
              priority
              className="hidden dark:block"
              style={{ width: "auto", height: "auto" }}
            />
          </Link>

          {/* Toggle Sidebar Button */}
          <button
            onClick={() => setSidebarOpen(!sidebarOpen)}
            className="block text-gray-600 dark:text-gray-400 lg:hidden"
          >
            <svg
              className="fill-current"
              width="20"
              height="18"
              viewBox="0 0 20 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M19 8.175H2.98748L9.36248 1.6875C9.69998 1.35 9.69998 0.825 9.36248 0.4875C9.02498 0.15 8.49998 0.15 8.16248 0.4875L0.399976 8.3625C0.0624756 8.7 0.0624756 9.225 0.399976 9.5625L8.16248 17.4375C8.31248 17.5875 8.53748 17.7 8.76248 17.7C8.98748 17.7 9.17498 17.625 9.36248 17.475C9.69998 17.1375 9.69998 16.6125 9.36248 16.275L3.02498 9.8625H19C19.45 9.8625 19.825 9.4875 19.825 9.0375C19.825 8.55 19.45 8.175 19 8.175Z" />
            </svg>
          </button>
        </div>

        {/* Sidebar Menu */}
        <div className="no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear">
          <nav className="mt-6 px-4 lg:px-6">
            {menuGroups.map((group, groupIndex) => (
              <div key={groupIndex}>
                <h3 className="mb-5 text-sm font-medium text-gray-700 dark:text-gray-300">
                  {group.name}
                </h3>

                <ul className="mb-6 flex flex-col gap-4">
                  {group.menuItems.map(
                    (menuItem, menuIndex) => {
                      let notForEmployee = ['HRIS', 'Projects', 'Pending Approval'];
                      if (userDetails?.user_role == 'employee' && !notForEmployee.includes(menuItem.label)) {
                        return (
                          <SidebarItem
                            key={menuIndex}
                            item={menuItem}
                            pageName={pageName}
                            setPageName={setPageName}
                          />
                        )
                      }
                      else if (userDetails?.user_role != 'employee') {
                        return (
                          <SidebarItem
                            key={menuIndex}
                            item={menuItem}
                            pageName={pageName}
                            setPageName={setPageName}
                          />
                        )
                      }
                    }
                  )}
                </ul>
              </div>
            ))}
          </nav>
        </div>
      </aside>
    </ClickOutside>
  );
};

export default Sidebar;
